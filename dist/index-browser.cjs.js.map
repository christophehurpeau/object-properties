{"version":3,"file":"index-browser.cjs.js","sources":["../src/index.ts"],"sourcesContent":["/* eslint-disable max-lines */\nexport interface DefinePropertyOptions {\n  configurable?: boolean;\n  enumerable?: boolean;\n  writable?: boolean;\n}\n\nexport interface EnumerableOptions {\n  enumerable?: boolean;\n}\n\nexport interface ConfigurableEnumerableOptions {\n  configurable?: boolean;\n  enumerable?: boolean;\n}\n\n/**\n * @param {Object} target\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n */\nexport function defineProperty<T, P extends string, V>(\n  target: T,\n  property: P,\n  value: V,\n  options?: DefinePropertyOptions,\n): (T & { [K in P]: V }) | any {\n  Object.defineProperty(target, property, {\n    value,\n    writable: options?.writable !== false,\n    configurable: options?.configurable !== false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineConstant<T, P extends string, V>(\n  target: T,\n  property: P,\n  value: V,\n  options?: EnumerableOptions,\n): (T & { readonly [K in P]: V }) | any {\n  Object.defineProperty(target, property, {\n    value,\n    writable: false,\n    configurable: false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\nexport type Getter<V> = () => V;\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} getter getter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineGetter<T, P extends string, V>(\n  target: T,\n  property: P,\n  getter: Getter<V>,\n  options?: ConfigurableEnumerableOptions,\n): (T & { readonly [K in P]: V }) | any {\n  Object.defineProperty(target, property, {\n    get: getter,\n    configurable: options?.configurable !== false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\nexport type Setter<T, V> = (value: T) => V;\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} setter setter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineSetter<T, P extends string, V>(\n  target: T,\n  property: P,\n  setter: Setter<any, V>,\n  options?: ConfigurableEnumerableOptions,\n): (T & { [K in P]?: V }) | any {\n  Object.defineProperty(target, property, {\n    set: setter,\n    configurable: options?.configurable !== false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\nexport type LazyCallback<V> = () => V;\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineLazyProperty<T, P extends string, V>(\n  target: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: DefinePropertyOptions,\n): (T & { [K in P]: V }) | any {\n  defineGetter(\n    target,\n    property,\n    function (this: any): V {\n      const value = callback.call(this);\n      defineProperty(this, property, value, options);\n      return value;\n    },\n    {\n      configurable: true,\n      enumerable: options?.enumerable,\n    },\n  );\n  return target;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineLazyConstant<T, P extends string, V>(\n  target: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: EnumerableOptions,\n): (T & { readonly [K in P]: V }) | any {\n  defineGetter(\n    target,\n    property,\n    function (this: any): V {\n      const value = callback.call(this);\n      defineConstant(this, property, value, options);\n      return value;\n    },\n    {\n      configurable: true,\n      enumerable: options?.enumerable,\n    },\n  );\n  return target;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeProperty<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  value: V,\n  options?: DefinePropertyOptions,\n): (T & { [K in P]: V }) | any {\n  defineProperty(Class.prototype, property, value, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeConstant<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  value: V,\n  options?: EnumerableOptions,\n): (T & { readonly [K in P]: V }) | any {\n  defineConstant(Class.prototype, property, value, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} getter getter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeGetter<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  getter: Getter<V>,\n  options?: ConfigurableEnumerableOptions,\n): (T & { [K in P]: V }) | any {\n  defineGetter(Class.prototype, property, getter, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} setter setter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeSetter<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  setter: Setter<any, V>,\n  options?: ConfigurableEnumerableOptions,\n): (T & { [K in P]?: V }) | any {\n  defineSetter(Class.prototype, property, setter, options);\n  return Class;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeLazyProperty<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: DefinePropertyOptions,\n): (T & { [K in P]: V }) | any {\n  defineLazyProperty(Class.prototype, property, callback, options);\n  return Class;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeLazyConstant<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: EnumerableOptions,\n): (T & { readonly [K in P]: V }) | any {\n  defineLazyConstant(Class.prototype, property, callback, options);\n  return Class;\n}\n\n/**\n * Shortcut for Object.defineProperties\n *\n * @param {Object} target\n * @param {Object} [properties]\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineProperties<T, P extends Record<string, any>>(\n  target: T,\n  properties?: P,\n  options?: DefinePropertyOptions,\n): T | (T & P) | any {\n  if (!properties) {\n    return target;\n  }\n\n  const optionsObject: DefinePropertyOptions = {\n    writable: options?.writable !== false,\n    configurable: options?.configurable !== false,\n    enumerable: !!options?.enumerable,\n  };\n\n  Object.keys(properties).forEach((key: string) => {\n    Object.defineProperty(target, key, {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      value: properties[key],\n      writable: optionsObject.writable,\n      configurable: optionsObject.configurable,\n      enumerable: optionsObject.enumerable,\n    });\n  });\n  return target;\n}\n\n/**\n * Shortcut for Object.defineProperties\n *\n * @param {Object} target\n * @param {Object} [properties]\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineConstants<T, P extends Record<string, any>>(\n  target: T,\n  properties?: P,\n  options?: EnumerableOptions,\n): T & Readonly<P> {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n  return defineProperties(target, properties, {\n    writable: false,\n    configurable: false,\n    enumerable: options?.enumerable,\n  });\n}\n"],"names":["defineProperty","target","property","value","options","Object","writable","configurable","enumerable","defineConstant","defineGetter","getter","get","defineSetter","setter","set","defineLazyProperty","callback","call","defineLazyConstant","definePrototypeProperty","Class","prototype","definePrototypeConstant","definePrototypeGetter","definePrototypeSetter","definePrototypeLazyProperty","definePrototypeLazyConstant","defineProperties","properties","optionsObject","keys","forEach","key","defineConstants"],"mappings":"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"}