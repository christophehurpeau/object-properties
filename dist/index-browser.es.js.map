{"version":3,"file":"index-browser.es.js","sources":["../../src/index.ts"],"sourcesContent":["/* eslint-disable max-lines */\nexport interface DefinePropertyOptions {\n  configurable?: boolean;\n  enumerable?: boolean;\n  writable?: boolean;\n}\n\nexport interface EnumerableOptions {\n  enumerable?: boolean;\n}\n\nexport interface ConfigurableEnumerableOptions {\n  configurable?: boolean;\n  enumerable?: boolean;\n}\n\n/**\n * @param {Object} target\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n */\nexport function defineProperty<T, P extends string, V>(\n  target: T,\n  property: P,\n  value: V,\n  options?: DefinePropertyOptions,\n): any | (T & { [K in P]: V }) {\n  Object.defineProperty(target, property, {\n    value,\n    writable: options?.writable !== false,\n    configurable: options?.configurable !== false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineConstant<T, P extends string, V>(\n  target: T,\n  property: P,\n  value: V,\n  options?: EnumerableOptions,\n): any | (T & { readonly [K in P]: V }) {\n  Object.defineProperty(target, property, {\n    value,\n    writable: false,\n    configurable: false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\nexport type Getter<V> = () => V;\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} getter getter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineGetter<T, P extends string, V>(\n  target: T,\n  property: P,\n  getter: Getter<V>,\n  options?: ConfigurableEnumerableOptions,\n): any | (T & { readonly [K in P]: V }) {\n  Object.defineProperty(target, property, {\n    get: getter,\n    configurable: options?.configurable !== false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\nexport type Setter<T, V> = (value: T) => V;\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} setter setter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineSetter<T, P extends string, V>(\n  target: T,\n  property: P,\n  setter: Setter<any, V>,\n  options?: ConfigurableEnumerableOptions,\n): any | (T & { [K in P]?: V }) {\n  Object.defineProperty(target, property, {\n    set: setter,\n    configurable: options?.configurable !== false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\nexport type LazyCallback<V> = () => V;\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineLazyProperty<T, P extends string, V>(\n  target: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: DefinePropertyOptions,\n): any | (T & { [K in P]: V }) {\n  defineGetter(\n    target,\n    property,\n    function (this: any): V {\n      const value = callback.call(this);\n      defineProperty(this, property, value, options);\n      return value;\n    },\n    {\n      configurable: true,\n      enumerable: options?.enumerable,\n    },\n  );\n  return target;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineLazyConstant<T, P extends string, V>(\n  target: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: EnumerableOptions,\n): any | (T & { readonly [K in P]: V }) {\n  defineGetter(\n    target,\n    property,\n    function (this: any): V {\n      const value = callback.call(this);\n      defineConstant(this, property, value, options);\n      return value;\n    },\n    {\n      configurable: true,\n      enumerable: options?.enumerable,\n    },\n  );\n  return target;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeProperty<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  value: V,\n  options?: DefinePropertyOptions,\n): any | (T & { [K in P]: V }) {\n  defineProperty(Class.prototype, property, value, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeConstant<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  value: V,\n  options?: EnumerableOptions,\n): any | (T & { readonly [K in P]: V }) {\n  defineConstant(Class.prototype, property, value, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} getter getter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeGetter<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  getter: Getter<V>,\n  options?: ConfigurableEnumerableOptions,\n): any | (T & { [K in P]: V }) {\n  defineGetter(Class.prototype, property, getter, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} setter setter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeSetter<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  setter: Setter<any, V>,\n  options?: ConfigurableEnumerableOptions,\n): any | (T & { [K in P]?: V }) {\n  defineSetter(Class.prototype, property, setter, options);\n  return Class;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeLazyProperty<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: DefinePropertyOptions,\n): any | (T & { [K in P]: V }) {\n  defineLazyProperty(Class.prototype, property, callback, options);\n  return Class;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeLazyConstant<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: EnumerableOptions,\n): any | (T & { readonly [K in P]: V }) {\n  defineLazyConstant(Class.prototype, property, callback, options);\n  return Class;\n}\n\n/**\n * Shortcut for Object.defineProperties\n *\n * @param {Object} target\n * @param {Object} [properties]\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineProperties<T, P extends Record<string, any>>(\n  target: T,\n  properties?: P,\n  options?: DefinePropertyOptions,\n): T | any | (P & T) {\n  if (!properties) {\n    return target;\n  }\n\n  const optionsObject: DefinePropertyOptions = {\n    writable: options?.writable !== false,\n    configurable: options?.configurable !== false,\n    enumerable: !!options?.enumerable,\n  };\n\n  Object.keys(properties).forEach((key: string) => {\n    Object.defineProperty(target, key, {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      value: properties[key],\n      writable: optionsObject.writable,\n      configurable: optionsObject.configurable,\n      enumerable: optionsObject.enumerable,\n    });\n  });\n  return target;\n}\n\n/**\n * Shortcut for Object.defineProperties\n *\n * @param {Object} target\n * @param {Object} [properties]\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineConstants<T, P extends Record<string, any>>(\n  target: T,\n  properties?: P,\n  options?: EnumerableOptions,\n): Readonly<P> & T {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n  return defineProperties(target, properties, {\n    writable: false,\n    configurable: false,\n    enumerable: options?.enumerable,\n  });\n}\n"],"names":[],"mappings":"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"}