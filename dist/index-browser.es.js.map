{"version":3,"file":"index-browser.es.js","sources":["../src/index.ts"],"sourcesContent":["/* eslint-disable max-lines */\nexport interface DefinePropertyOptions {\n  configurable?: boolean;\n  enumerable?: boolean;\n  writable?: boolean;\n}\n\nexport interface EnumerableOptions {\n  enumerable?: boolean;\n}\n\nexport interface ConfigurableEnumerableOptions {\n  configurable?: boolean;\n  enumerable?: boolean;\n}\n\n/**\n * @param {Object} target\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n */\nexport function defineProperty<T, P extends string, V>(\n  target: T,\n  property: P,\n  value: V,\n  options?: DefinePropertyOptions,\n): (T & { [K in P]: V }) | any {\n  Object.defineProperty(target, property, {\n    value,\n    writable: options?.writable !== false,\n    configurable: options?.configurable !== false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineConstant<T, P extends string, V>(\n  target: T,\n  property: P,\n  value: V,\n  options?: EnumerableOptions,\n): (T & { readonly [K in P]: V }) | any {\n  Object.defineProperty(target, property, {\n    value,\n    writable: false,\n    configurable: false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\nexport type Getter<V> = () => V;\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} getter getter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineGetter<T, P extends string, V>(\n  target: T,\n  property: P,\n  getter: Getter<V>,\n  options?: ConfigurableEnumerableOptions,\n): (T & { readonly [K in P]: V }) | any {\n  Object.defineProperty(target, property, {\n    get: getter,\n    configurable: options?.configurable !== false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\nexport type Setter<T, V> = (value: T) => V;\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} setter setter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineSetter<T, P extends string, V>(\n  target: T,\n  property: P,\n  setter: Setter<any, V>,\n  options?: ConfigurableEnumerableOptions,\n): (T & { [K in P]?: V }) | any {\n  Object.defineProperty(target, property, {\n    set: setter,\n    configurable: options?.configurable !== false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\nexport type LazyCallback<V> = () => V;\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineLazyProperty<T, P extends string, V>(\n  target: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: DefinePropertyOptions,\n): (T & { [K in P]: V }) | any {\n  defineGetter(\n    target,\n    property,\n    function (this: any): V {\n      const value = callback.call(this);\n      defineProperty(this, property, value, options);\n      return value;\n    },\n    {\n      configurable: true,\n      enumerable: options?.enumerable,\n    },\n  );\n  return target;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineLazyConstant<T, P extends string, V>(\n  target: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: EnumerableOptions,\n): (T & { readonly [K in P]: V }) | any {\n  defineGetter(\n    target,\n    property,\n    function (this: any): V {\n      const value = callback.call(this);\n      defineConstant(this, property, value, options);\n      return value;\n    },\n    {\n      configurable: true,\n      enumerable: options?.enumerable,\n    },\n  );\n  return target;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeProperty<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  value: V,\n  options?: DefinePropertyOptions,\n): (T & { [K in P]: V }) | any {\n  defineProperty(Class.prototype, property, value, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeConstant<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  value: V,\n  options?: EnumerableOptions,\n): (T & { readonly [K in P]: V }) | any {\n  defineConstant(Class.prototype, property, value, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} getter getter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeGetter<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  getter: Getter<V>,\n  options?: ConfigurableEnumerableOptions,\n): (T & { [K in P]: V }) | any {\n  defineGetter(Class.prototype, property, getter, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} setter setter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeSetter<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  setter: Setter<any, V>,\n  options?: ConfigurableEnumerableOptions,\n): (T & { [K in P]?: V }) | any {\n  defineSetter(Class.prototype, property, setter, options);\n  return Class;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeLazyProperty<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: DefinePropertyOptions,\n): (T & { [K in P]: V }) | any {\n  defineLazyProperty(Class.prototype, property, callback, options);\n  return Class;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeLazyConstant<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: EnumerableOptions,\n): (T & { readonly [K in P]: V }) | any {\n  defineLazyConstant(Class.prototype, property, callback, options);\n  return Class;\n}\n\n/**\n * Shortcut for Object.defineProperties\n *\n * @param {Object} target\n * @param {Object} [properties]\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineProperties<T, P extends Record<string, any>>(\n  target: T,\n  properties?: P,\n  options?: DefinePropertyOptions,\n): T | (T & P) | any {\n  if (!properties) {\n    return target;\n  }\n\n  const optionsObject: DefinePropertyOptions = {\n    writable: options?.writable !== false,\n    configurable: options?.configurable !== false,\n    enumerable: !!options?.enumerable,\n  };\n\n  Object.keys(properties).forEach((key: string) => {\n    Object.defineProperty(target, key, {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      value: properties[key],\n      writable: optionsObject.writable,\n      configurable: optionsObject.configurable,\n      enumerable: optionsObject.enumerable,\n    });\n  });\n  return target;\n}\n\n/**\n * Shortcut for Object.defineProperties\n *\n * @param {Object} target\n * @param {Object} [properties]\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineConstants<T, P extends Record<string, any>>(\n  target: T,\n  properties?: P,\n  options?: EnumerableOptions,\n): T & Readonly<P> {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n  return defineProperties(target, properties, {\n    writable: false,\n    configurable: false,\n    enumerable: options?.enumerable,\n  });\n}\n"],"names":["defineProperty","target","property","value","options","Object","writable","configurable","enumerable","defineConstant","defineGetter","getter","get","defineSetter","setter","set","defineLazyProperty","callback","call","defineLazyConstant","definePrototypeProperty","Class","prototype","definePrototypeConstant","definePrototypeGetter","definePrototypeSetter","definePrototypeLazyProperty","definePrototypeLazyConstant","defineProperties","properties","optionsObject","keys","forEach","key","defineConstants"],"mappings":"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"}