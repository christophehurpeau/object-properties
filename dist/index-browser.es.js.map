{"version":3,"file":"index-browser.es.js","sources":["../src/index.ts"],"sourcesContent":["export interface DefinePropertyOptions {\n  configurable?: boolean;\n  enumerable?: boolean;\n  writable?: boolean;\n}\n\nexport interface EnumerableOptions {\n  enumerable?: boolean;\n}\n\nexport interface ConfigurableEnumerableOptions {\n  configurable?: boolean;\n  enumerable?: boolean;\n}\n\n/**\n * @param {Object} target\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n */\nexport function defineProperty<T, P extends string, V>(\n  target: T,\n  property: P,\n  value: V,\n  options?: DefinePropertyOptions,\n): any | (T & { [K in P]: V }) {\n  Object.defineProperty(target, property, {\n    value,\n    writable: options?.writable !== false,\n    configurable: options?.configurable !== false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineConstant<T, P extends string, V>(\n  target: T,\n  property: P,\n  value: V,\n  options?: EnumerableOptions,\n): any | (T & { readonly [K in P]: V }) {\n  Object.defineProperty(target, property, {\n    value,\n    writable: false,\n    configurable: false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\nexport type Getter<V> = () => V;\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} getter getter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineGetter<T, P extends string, V>(\n  target: T,\n  property: P,\n  getter: Getter<V>,\n  options?: ConfigurableEnumerableOptions,\n): any | (T & { readonly [K in P]: V }) {\n  Object.defineProperty(target, property, {\n    get: getter,\n    configurable: options?.configurable !== false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\nexport type Setter<T, V> = (value: T) => V;\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} setter setter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineSetter<T, P extends string, V>(\n  target: T,\n  property: P,\n  setter: Setter<any, V>,\n  options?: ConfigurableEnumerableOptions,\n): any | (T & { [K in P]?: V }) {\n  Object.defineProperty(target, property, {\n    set: setter,\n    configurable: options?.configurable !== false,\n    enumerable: options?.enumerable,\n  });\n  return target;\n}\n\nexport type LazyCallback<V> = () => V;\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineLazyProperty<T, P extends string, V>(\n  target: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: DefinePropertyOptions,\n): any | (T & { [K in P]: V }) {\n  defineGetter(\n    target,\n    property,\n    function (this: any): V {\n      const value = callback.call(this);\n      defineProperty(this, property, value, options);\n      return value;\n    },\n    {\n      configurable: true,\n      enumerable: options?.enumerable,\n    },\n  );\n  return target;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineLazyConstant<T, P extends string, V>(\n  target: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: EnumerableOptions,\n): any | (T & { readonly [K in P]: V }) {\n  defineGetter(\n    target,\n    property,\n    function (this: any): V {\n      const value = callback.call(this);\n      defineConstant(this, property, value, options);\n      return value;\n    },\n    {\n      configurable: true,\n      enumerable: options?.enumerable,\n    },\n  );\n  return target;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeProperty<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  value: V,\n  options?: DefinePropertyOptions,\n): any | (T & { [K in P]: V }) {\n  defineProperty(Class.prototype, property, value, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeConstant<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  value: V,\n  options?: EnumerableOptions,\n): any | (T & { readonly [K in P]: V }) {\n  defineConstant(Class.prototype, property, value, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} getter getter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeGetter<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  getter: Getter<V>,\n  options?: ConfigurableEnumerableOptions,\n): any | (T & { [K in P]: V }) {\n  defineGetter(Class.prototype, property, getter, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} setter setter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeSetter<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  setter: Setter<any, V>,\n  options?: ConfigurableEnumerableOptions,\n): any | (T & { [K in P]?: V }) {\n  defineSetter(Class.prototype, property, setter, options);\n  return Class;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeLazyProperty<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: DefinePropertyOptions,\n): any | (T & { [K in P]: V }) {\n  defineLazyProperty(Class.prototype, property, callback, options);\n  return Class;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeLazyConstant<\n  T extends { prototype: unknown },\n  P extends string,\n  V,\n>(\n  Class: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: EnumerableOptions,\n): any | (T & { readonly [K in P]: V }) {\n  defineLazyConstant(Class.prototype, property, callback, options);\n  return Class;\n}\n\n/**\n * Shortcut for Object.defineProperties\n *\n * @param {Object} target\n * @param {Object} [properties]\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineProperties<T, P extends Record<string, any>>(\n  target: T,\n  properties?: P,\n  options?: DefinePropertyOptions,\n): T | any | (P & T) {\n  if (!properties) {\n    return target;\n  }\n\n  const optionsObject: DefinePropertyOptions = {\n    writable: options?.writable !== false,\n    configurable: options?.configurable !== false,\n    enumerable: !!options?.enumerable,\n  };\n\n  Object.keys(properties).forEach((key: string) => {\n    Object.defineProperty(target, key, {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      value: properties[key],\n      writable: optionsObject.writable,\n      configurable: optionsObject.configurable,\n      enumerable: optionsObject.enumerable,\n    });\n  });\n  return target;\n}\n\n/**\n * Shortcut for Object.defineProperties\n *\n * @param {Object} target\n * @param {Object} [properties]\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineConstants<T, P extends Record<string, any>>(\n  target: T,\n  properties?: P,\n  options?: EnumerableOptions,\n): Readonly<P> & T {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n  return defineProperties(target, properties, {\n    writable: false,\n    configurable: false,\n    enumerable: options?.enumerable,\n  });\n}\n"],"names":[],"mappings":"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"}