{"version":3,"file":"index-browser-dev.es.js","sources":["../src/index.ts"],"sourcesContent":["/* eslint-disable max-lines, flowtype/no-weak-types */\n\nexport interface DefinePropertyOptions {\n  configurable?: boolean;\n  enumerable?: boolean;\n  writable?: boolean;\n}\n\nexport interface EnumerableOptions {\n  enumerable?: boolean;\n}\n\nexport interface ConfigurableEnumerableOptions {\n  configurable?: boolean;\n  enumerable?: boolean;\n}\n\n/**\n * @param {Object} target\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n */\nexport function defineProperty<T extends object, P extends string, V>(\n  target: T,\n  property: P,\n  value: V,\n  options?: DefinePropertyOptions,\n): T & { [K in P]: V } | any {\n  Object.defineProperty(target, property, {\n    value,\n    writable: (options && options.writable) !== false,\n    configurable: (options && options.configurable) !== false,\n    enumerable: options && options.enumerable,\n  });\n  return target;\n}\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineConstant<T extends object, P extends string, V>(\n  target: T,\n  property: P,\n  value: V,\n  options?: EnumerableOptions,\n): T & { readonly [K in P]: V } | any {\n  Object.defineProperty(target, property, {\n    value,\n    writable: false,\n    configurable: false,\n    enumerable: options && options.enumerable,\n  });\n  return target;\n}\n\nexport type Getter<V> = () => V;\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} getter getter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineGetter<T extends object, P extends string, V>(\n  target: T,\n  property: P,\n  getter: Getter<V>,\n  options?: ConfigurableEnumerableOptions,\n): T & { readonly [K in P]: V } | any {\n  Object.defineProperty(target, property, {\n    get: getter,\n    configurable: (options && options.configurable) !== false,\n    enumerable: options && options.enumerable,\n  });\n  return target;\n}\n\nexport type Setter<T, V> = (value: T) => V;\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} setter setter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineSetter<T extends object, P extends string, V>(\n  target: T,\n  property: P,\n  setter: Setter<any, V>,\n  options?: ConfigurableEnumerableOptions,\n): T & { [K in P]?: V } | any {\n  Object.defineProperty(target, property, {\n    set: setter,\n    configurable: (options && options.configurable) !== false,\n    enumerable: options && options.enumerable,\n  });\n  return target;\n}\n\nexport type LazyCallback<V> = () => V;\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineLazyProperty<T extends object, P extends string, V>(\n  target: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: DefinePropertyOptions,\n): T & { [K in P]: V } | any {\n  defineGetter(\n    target,\n    property,\n    function(this: any): V {\n      const value = callback.call(this);\n      defineProperty(this, property, value, options);\n      return value;\n    },\n    {\n      configurable: true,\n      enumerable: options && options.enumerable,\n    },\n  );\n  return target;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineLazyConstant<T extends object, P extends string, V>(\n  target: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: EnumerableOptions,\n): T & { readonly [K in P]: V } | any {\n  defineGetter(\n    target,\n    property,\n    function(this: any): V {\n      const value = callback.call(this);\n      defineConstant(this, property, value, options);\n      return value;\n    },\n    {\n      configurable: true,\n      enumerable: options && options.enumerable,\n    },\n  );\n  return target;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeProperty<T extends { prototype: object }, P extends string, V>(\n  Class: T,\n  property: P,\n  value: V,\n  options?: DefinePropertyOptions,\n): T & { [K in P]: V } | any {\n  defineProperty(Class.prototype, property, value, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeConstant<T extends { prototype: object }, P extends string, V>(\n  Class: T,\n  property: P,\n  value: V,\n  options?: EnumerableOptions,\n): T & { readonly [K in P]: V } | any {\n  defineConstant(Class.prototype, property, value, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} getter getter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeGetter<T extends { prototype: object }, P extends string, V>(\n  Class: T,\n  property: P,\n  getter: Getter<V>,\n  options?: ConfigurableEnumerableOptions,\n): T & { [K in P]: V } | any {\n  defineGetter(Class.prototype, property, getter, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} setter setter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeSetter<T extends { prototype: object }, P extends string, V>(\n  Class: T,\n  property: P,\n  setter: Setter<any, V>,\n  options?: ConfigurableEnumerableOptions,\n): T & { [K in P]?: V } | any {\n  defineSetter(Class.prototype, property, setter, options);\n  return Class;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeLazyProperty<T extends { prototype: object }, P extends string, V>(\n  Class: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: DefinePropertyOptions,\n): T & { [K in P]: V } | any {\n  defineLazyProperty(Class.prototype, property, callback, options);\n  return Class;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeLazyConstant<T extends { prototype: object }, P extends string, V>(\n  Class: T,\n  property: P,\n  callback: LazyCallback<V>,\n  options?: EnumerableOptions,\n): T & { readonly [K in P]: V } | any {\n  defineLazyConstant(Class.prototype, property, callback, options);\n  return Class;\n}\n\n/**\n * Shortcut for Object.defineProperties\n *\n * @param {Object} target\n * @param {Object} [properties]\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineProperties<T, P extends { [prop: string]: any }>(\n  target: T,\n  properties?: P,\n  options?: DefinePropertyOptions,\n): T | T & P | any {\n  if (!properties) {\n    return target;\n  }\n\n  const optionsObject: DefinePropertyOptions = {\n    writable: (options && options.writable) !== false,\n    configurable: (options && options.configurable) !== false,\n    enumerable: !!(options && options.enumerable),\n  };\n\n  Object.keys(properties).forEach((key: string) => {\n    Object.defineProperty(target, key, {\n      value: properties[key],\n      writable: optionsObject.writable,\n      configurable: optionsObject.configurable,\n      enumerable: optionsObject.enumerable,\n    });\n  });\n  return target;\n}\n\n/**\n * Shortcut for Object.defineProperties\n *\n * @param {Object} target\n * @param {Object} [properties]\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineConstants<T, P extends object>(\n  target: T,\n  properties?: P,\n  options?: EnumerableOptions,\n): T & Readonly<P> {\n  return defineProperties(target, properties, {\n    writable: false,\n    configurable: false,\n    enumerable: options && options.enumerable,\n  });\n}\n"],"names":["defineProperty","target","property","value","options","writable","configurable","enumerable","defineConstant","defineGetter","getter","defineSetter","setter","defineLazyProperty","callback","call","defineLazyConstant","definePrototypeProperty","Class","prototype","definePrototypeConstant","definePrototypeGetter","definePrototypeSetter","definePrototypeLazyProperty","definePrototypeLazyConstant","defineProperties","properties","optionsObject","keys","forEach","key","defineConstants"],"mappings":"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"}