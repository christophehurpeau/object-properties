{"version":3,"file":"index-node6-dev.cjs.js","sources":["../src/index.js"],"sourcesContent":["/* eslint-disable max-lines, flowtype/no-weak-types */\n\ntype DefinePropertyOptions = {|\n  configurable?: boolean,\n  enumerable?: boolean,\n  writable?: boolean,\n|};\n\ntype EnumerableOptions = {|\n  enumerable?: boolean,\n|};\n\ntype ConfigurableEnumerableOptions = {|\n  configurable?: boolean,\n  enumerable?: boolean,\n|};\n\n/**\n * @param {Object} target\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n */\nexport function defineProperty(\n  target: Object,\n  property: string,\n  value: any,\n  options: ?DefinePropertyOptions,\n): Object {\n  Object.defineProperty(target, property, {\n    value,\n    writable: (options && options.writable) !== false,\n    configurable: (options && options.configurable) !== false,\n    enumerable: options && options.enumerable,\n  });\n  return target;\n}\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineConstant(\n  target: Object,\n  property: string,\n  value: any,\n  options: ?EnumerableOptions,\n): Object {\n  Object.defineProperty(target, property, {\n    value,\n    writable: false,\n    configurable: false,\n    enumerable: options && options.enumerable,\n  });\n  return target;\n}\n\ntype Getter = () => any;\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} getter getter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineGetter(\n  target: Object,\n  property: string,\n  getter: Getter,\n  options: ?ConfigurableEnumerableOptions,\n): Object {\n  Object.defineProperty(target, property, {\n    get: getter,\n    configurable: (options && options.configurable) !== false,\n    enumerable: options && options.enumerable,\n  });\n  return target;\n}\n\ntype Setter = (value: any) => any;\n\n/**\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} setter setter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineSetter(\n  target: Object,\n  property: string,\n  setter: Setter,\n  options: ?ConfigurableEnumerableOptions,\n): Object {\n  Object.defineProperty(target, property, {\n    set: setter,\n    configurable: (options && options.configurable) !== false,\n    enumerable: options && options.enumerable,\n  });\n  return target;\n}\n\ntype LazyCallback = () => any;\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineLazyProperty(\n  target: Object,\n  property: string,\n  callback: LazyCallback,\n  options: ?DefinePropertyOptions,\n): Object {\n  defineGetter(\n    target,\n    property,\n    function(): any {\n      const value = callback.call(this);\n      defineProperty(this, property, value, options);\n      return value;\n    },\n    {\n      configurable: true,\n      enumerable: options && options.enumerable,\n    },\n  );\n  return target;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Object} target\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineLazyConstant(\n  target: Object,\n  property: string,\n  callback: LazyCallback,\n  options: ?EnumerableOptions,\n): Object {\n  defineGetter(\n    target,\n    property,\n    function(): any {\n      const value = callback.call(this);\n      defineConstant(this, property, value, options);\n      return value;\n    },\n    {\n      configurable: true,\n      enumerable: options && options.enumerable,\n    },\n  );\n  return target;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeProperty(\n  Class: Function,\n  property: string,\n  value: any,\n  options: ?DefinePropertyOptions,\n): Function {\n  defineProperty(Class.prototype, property, value, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {*} value value\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeConstant(\n  Class: Function,\n  property: string,\n  value: any,\n  options: ?EnumerableOptions,\n): Function {\n  defineConstant(Class.prototype, property, value, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} getter getter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeGetter(\n  Class: Function,\n  property: string,\n  getter: Getter,\n  options: ?ConfigurableEnumerableOptions,\n): Function {\n  defineGetter(Class.prototype, property, getter, options);\n  return Class;\n}\n\n/**\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} setter setter function\n * @param {Object} [options]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeSetter(\n  Class: Function,\n  property: string,\n  setter: Setter,\n  options: ?ConfigurableEnumerableOptions,\n): Function {\n  defineSetter(Class.prototype, property, setter, options);\n  return Class;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeLazyProperty(\n  Class: Function,\n  property: string,\n  callback: LazyCallback,\n  options: ?DefinePropertyOptions,\n): Function {\n  defineLazyProperty(Class.prototype, property, callback, options);\n  return Class;\n}\n\n/**\n * Create a getter that transforms then to a property\n *\n * @param {Function} Class\n * @param {string} property name of the property\n * @param {Function} callback function called when the property is accessed the first time\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} Class\n */\nexport function definePrototypeLazyConstant(\n  Class: Function,\n  property: string,\n  callback: LazyCallback,\n  options: ?EnumerableOptions,\n): Function {\n  defineLazyConstant(Class.prototype, property, callback, options);\n  return Class;\n}\n\ntype Properties = { [property: string]: any };\n\n/**\n * Shortcut for Object.defineProperties\n *\n * @param {Object} target\n * @param {Object} [properties]\n * @param {Object} [options]\n * @param {boolean} [options.writable=true]\n * @param {boolean} [options.configurable=true]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineProperties(\n  target: Object,\n  properties: ?Properties,\n  options: ?DefinePropertyOptions,\n): Object {\n  if (!properties) {\n    return target;\n  }\n\n  const optionsObject: DefinePropertyOptions = {\n    writable: (options && options.writable) !== false,\n    configurable: (options && options.configurable) !== false,\n    enumerable: !!(options && options.enumerable),\n  };\n\n  Object.keys(properties).forEach((key: string) => {\n    Object.defineProperty(target, key, {\n      value: properties[key],\n      writable: optionsObject.writable,\n      configurable: optionsObject.configurable,\n      enumerable: optionsObject.enumerable,\n    });\n  });\n  return target;\n}\n\n/**\n * Shortcut for Object.defineProperties\n *\n * @param {Object} target\n * @param {Object} [properties]\n * @param {Object} [options]\n * @param {boolean} [options.enumerable=false]\n * @return {Object} target\n */\nexport function defineConstants(\n  target: Object,\n  properties: ?Properties,\n  options: ?EnumerableOptions,\n): Object {\n  return defineProperties(target, properties, {\n    writable: false,\n    configurable: false,\n    enumerable: options && options.enumerable,\n  });\n}\n"],"names":["defineProperty","target","property","value","options","writable","configurable","enumerable","defineConstant","defineGetter","getter","defineSetter","setter","defineLazyProperty","callback","call","defineLazyConstant","definePrototypeProperty","Class","prototype","definePrototypeConstant","definePrototypeGetter","definePrototypeSetter","definePrototypeLazyProperty","definePrototypeLazyConstant","defineProperties","properties","keys","forEach","key","optionsObject","defineConstants"],"mappings":"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"}